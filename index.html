<!DOCTYPE html>

<html lang ="es">
    <head>
        <meta charset="UTF-8">
		<meta name="viewport" content="device-width, initial-scale=1.0"/>
        <title>Encriptador de Claudia</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="encriptador.css">
    </head>

    <body>
		<header>
            <div class="logo">
                <img src="imagenes/logo.png">
            </div>
        </header>

        <main>
			<section>
				
				<textarea class="texto-encriptador" id="textarealenght" placeholder="Ingrese el texto aquí"></textarea>
				<!-- <button id="btn" onclick="copyToClickBoard()" class="boton-copiar">Copiar texto</button>
				<p id="textareavalue"></p> -->
				<p class="informacion"><img src="imagenes/bi_exclamation-circle-fill.png">Solo letras minúsculas y sin acento</p>

				<div class="botones">
					<button onclick="encriptar()" id="boton-encriptar">Encriptar</button>
					<button onclick="desencriptar()" id="boton-desencriptar">Desencriptar</button>
				</div>
			
				<aside class="rectangulo">
					<div class="info" id="mensajenoencontrado">
						<img class="muneco" src="imagenes/muneco.svg">
						<p class="nomensaje1">Ningún mensaje fue encontrado</p>
						<p class="nomensaje2">Ingresa el texto que desees encriptar o desencriptar</p>
					</div>
					
					<div>
						<p class="textomostrado" id="textareavalue"></p>
						<button hidden id="boton-copiar" onclick="copyToClickBoard()">Copiar</button>
					</div>
				</aside>
			</section><br><br>
		 	
        </main><br><br>

        <footer class="footer">
			<div class="container">
				<div class="row">
					<div class="datosdev">
						<p>
							Elaborado por Claudia Meléndez.<br><br>
							<img class="alineadoTextoImagenCentro" src="imagenes/github.png"> <a class="github" href="https://github.com/claudialma">claudialma</a>
						</p>
					</div>
				</div>
			</div>
        </footer>
    </body>
</html>


<script>

	var textarea = document.querySelector("textarea");
	textarea.focus();



	function encriptar(){

		var texto = textarea.value;
		var nuevo = []

		for (var posicion = 0; posicion < texto.length; posicion++){
			if (texto[posicion] == "a") {

				nuevo[posicion] = "ai"; 
			}else{

				if ((texto[posicion]) == "e") {

					nuevo[posicion] = "enter"; 

				}else{
					if ((texto[posicion]) == "i") {

						nuevo[posicion] = "imes"; 

					}else{
						if ((texto[posicion]) == "o") {

							nuevo[posicion] = "ober"; 

						}else{
							if ((texto[posicion]) == "u") {

								nuevo[posicion] = "ufat"; 

							}else{
								nuevo[posicion] = texto[posicion]; 						
							}							
						}
					}
				}
			}
		}

	var nuevostr = nuevo.join('');
	console.log(nuevostr);
	document.getElementById("textareavalue").innerHTML = nuevostr;
	document.getElementById("mensajenoencontrado").style.display = "none";
	document.getElementById("boton-copiar").style.display = "block";
	textarea.value = "";
    textarea.focus();
	}
	     

	function desencriptar(){
		
		var texto = textarea.value;

		do{

			var texto = texto.replace("ai", "a");
			var texto = texto.replace("enter", "e");
			var texto = texto.replace("imes", "i");
			var texto = texto.replace("ober", "o");
			var texto = texto.replace("ufat", "u");

		} while(texto.includes("ai")||texto.includes("enter")||texto.includes("imes")||texto.includes("ober")||texto.includes("ufat"));

	document.getElementById("textareavalue").innerHTML = texto;
	document.getElementById("mensajenoencontrado").style.display = "none";
	document.getElementById("boton-copiar").style.display = "block";
	textarea.value = "";
    textarea.focus(); 
	}

	function copyToClickBoard(){
    	var copiar = document.getElementById('textareavalue').innerHTML;

	    navigator.clipboard.writeText(copiar)
	    .then(() => {
        console.log("Texto copiado");
        alert("Texto copiado");
    })
        .catch(err => {
        console.log('Algo está mal', err);
        alert("Algo está mal");
    })
 
	}



</script>
